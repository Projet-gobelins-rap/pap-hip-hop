<template>
  <section class="mobileConnection">
    <svg
      width="88"
      height="68"
      viewBox="0 0 88 68"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M14.9022 7.97873L9.86095 12.4348L7.27399 22.5217L7.96841 41.3043L10.3989 59.7391L26.0234 60.7826L57.0818 66C62.487 66 67.7423 64.2236 72.039 60.9441L72.7063 60.4348L73.5915 56.2609L80.5357 45.4783L79.1469 23.5652L77.0636 7.91304L62.4807 6.86957L56.3874 2L30.6937 2C24.8768 2 19.2606 4.12634 14.9022 7.97873Z"
        fill="#7C44ED"
        stroke="#7C44ED"
        stroke-width="2.78505"
      />
      <mask
        id="path-2-outside-1_2330_1374"
        maskUnits="userSpaceOnUse"
        x="0"
        y="3.64111"
        width="28"
        height="59"
        fill="black"
      >
        <rect fill="white" y="3.64111" width="28" height="59" />
        <path
          d="M19.8309 11.2145C20.4825 10.809 20.6826 9.95122 20.2779 9.29849C19.8731 8.64577 19.0168 8.4453 18.3653 8.85074C13.0444 12.1616 8.76961 17.2899 6.5592 23.7207C2.63778 35.1295 6.35467 47.3092 14.9995 54.5106L10.0766 54.1658C9.03753 54.093 8.64273 54.7627 8.59429 55.4567C8.54567 56.1531 8.84377 56.8688 9.88287 56.9416L18.542 57.5482C19.2348 57.5967 19.6053 57.274 19.6538 56.5801L20.2593 47.9056C20.332 46.8646 19.6634 46.4691 18.9707 46.4206C18.278 46.3721 17.561 46.6705 17.4884 47.7115L17.1422 52.6706C9.11389 46.2422 5.58946 35.089 9.18557 24.6266C11.1818 18.8188 15.0366 14.1977 19.8309 11.2145Z"
        />
      </mask>
      <path
        d="M19.8309 11.2145C20.4825 10.809 20.6826 9.95122 20.2779 9.29849C19.8731 8.64577 19.0168 8.4453 18.3653 8.85074C13.0444 12.1616 8.76961 17.2899 6.5592 23.7207C2.63778 35.1295 6.35467 47.3092 14.9995 54.5106L10.0766 54.1658C9.03753 54.093 8.64273 54.7627 8.59429 55.4567C8.54567 56.1531 8.84377 56.8688 9.88287 56.9416L18.542 57.5482C19.2348 57.5967 19.6053 57.274 19.6538 56.5801L20.2593 47.9056C20.332 46.8646 19.6634 46.4691 18.9707 46.4206C18.278 46.3721 17.561 46.6705 17.4884 47.7115L17.1422 52.6706C9.11389 46.2422 5.58946 35.089 9.18557 24.6266C11.1818 18.8188 15.0366 14.1977 19.8309 11.2145Z"
        fill="#FEFEFE"
      />
      <path
        d="M20.2779 9.29849L23.8283 7.09703L23.8283 7.09703L20.2779 9.29849ZM19.8309 11.2145L17.6238 7.66751L17.6238 7.66751L19.8309 11.2145ZM18.3653 8.85074L20.5723 12.3977L20.5723 12.3977L18.3653 8.85074ZM6.5592 23.7207L10.5099 25.0787L10.5099 25.0787L6.5592 23.7207ZM14.9995 54.5106L14.7076 58.678L27.6145 59.5821L17.6734 51.3009L14.9995 54.5106ZM10.0766 54.1658L9.7847 58.3332L9.78471 58.3332L10.0766 54.1658ZM8.59429 55.4567L12.7617 55.7476L12.7617 55.7476L8.59429 55.4567ZM9.88287 56.9416L10.1748 52.7743L10.1748 52.7743L9.88287 56.9416ZM18.542 57.5482L18.2501 61.7156L18.2501 61.7156L18.542 57.5482ZM19.6538 56.5801L23.8212 56.871L23.8212 56.871L19.6538 56.5801ZM20.2593 47.9056L16.0919 47.6147L16.0919 47.6147L20.2593 47.9056ZM17.4884 47.7115L13.3209 47.4206L13.3209 47.4206L17.4884 47.7115ZM17.1422 52.6706L14.5311 55.9316L20.7545 60.9148L21.3096 52.9615L17.1422 52.6706ZM9.18557 24.6266L5.23485 23.2687L5.23485 23.2687L9.18557 24.6266ZM16.7274 11.5C15.9193 10.1966 16.316 8.48127 17.6238 7.66751L22.038 14.7614C24.6489 13.1368 25.4459 9.70581 23.8283 7.09703L16.7274 11.5ZM20.5723 12.3977C19.2602 13.2142 17.5382 12.8077 16.7274 11.5L23.8283 7.09703C22.208 4.48388 18.7735 3.6764 16.1582 5.30378L20.5723 12.3977ZM10.5099 25.0787C12.3993 19.5819 16.0437 15.2156 20.5723 12.3977L16.1582 5.30378C10.0451 9.10765 5.13996 14.9978 2.60849 22.3628L10.5099 25.0787ZM17.6734 51.3009C10.3446 45.1958 7.15909 34.8274 10.5099 25.0787L2.60849 22.3628C-1.88352 35.4316 2.36472 49.4226 12.3257 57.7204L17.6734 51.3009ZM9.78471 58.3332L14.7076 58.678L15.2914 50.3433L10.3686 49.9984L9.78471 58.3332ZM12.7617 55.7476C12.7428 56.0181 12.6334 56.7319 11.9814 57.4128C11.2079 58.2207 10.2698 58.3671 9.7847 58.3332L10.3686 49.9984C8.84434 49.8917 7.18933 50.3365 5.94649 51.6346C4.82523 52.8057 4.49418 54.2012 4.42685 55.1658L12.7617 55.7476ZM10.1748 52.7743C10.6549 52.8079 11.564 53.0809 12.2193 53.9898C12.7724 54.7569 12.7804 55.4807 12.7617 55.7476L4.42685 55.1658C4.35961 56.1291 4.49232 57.559 5.44204 58.8762C6.49405 60.3353 8.0717 61.0026 9.59096 61.109L10.1748 52.7743ZM18.834 53.3808L10.1748 52.7743L9.59095 61.109L18.2501 61.7156L18.834 53.3808ZM15.4864 56.2891C15.5068 55.9957 15.6515 55.0146 16.596 54.1921C17.542 53.3683 18.5362 53.36 18.834 53.3808L18.2501 61.7156C19.2406 61.7849 20.7665 61.6395 22.083 60.493C23.3981 59.3478 23.7523 57.8584 23.8212 56.871L15.4864 56.2891ZM16.0919 47.6147L15.4864 56.2892L23.8212 56.871L24.4267 48.1965L16.0919 47.6147ZM18.6788 50.588C18.4044 50.5688 17.6885 50.4575 17.0076 49.8033C16.2019 49.0292 16.0584 48.0939 16.0919 47.6147L24.4267 48.1965C24.5328 46.6763 24.0914 45.0229 22.7965 43.7786C21.6263 42.6542 20.2298 42.321 19.2626 42.2533L18.6788 50.588ZM21.6558 48.0024C21.6224 48.4815 21.3503 49.3885 20.4439 50.0435C19.678 50.597 18.9531 50.6072 18.6788 50.588L19.2626 42.2533C18.2956 42.1855 16.8659 42.3207 15.5501 43.2715C14.0939 44.3238 13.427 45.9005 13.3209 47.4206L21.6558 48.0024ZM21.3096 52.9615L21.6558 48.0024L13.3209 47.4206L12.9748 52.3797L21.3096 52.9615ZM5.23485 23.2687C1.05952 35.4162 5.14009 48.4121 14.5311 55.9316L19.7533 49.4096C13.0877 44.0723 10.1194 34.7618 13.1363 25.9846L5.23485 23.2687ZM17.6238 7.66751C12.0372 11.1438 7.55215 16.5269 5.23485 23.2687L13.1363 25.9846C14.8115 21.1107 18.0361 17.2516 22.038 14.7614L17.6238 7.66751Z"
        fill="#7C44ED"
        mask="url(#path-2-outside-1_2330_1374)"
      />
      <path
        d="M72.4182 20.1149L72.4461 19.715C77.6937 25.7354 79.6727 34.4286 76.8391 42.6725C75.0033 48.0134 71.4636 52.2535 67.0656 54.9902C65.4343 56.0052 64.9358 58.1496 65.9469 59.7804C66.9594 61.4133 69.1048 61.9173 70.7383 60.9009C76.4553 57.3435 81.0452 51.8343 83.4161 44.9364C87.0047 34.4961 84.634 23.4394 78.0844 15.6046C78.9348 15.5642 79.7461 15.2509 80.3676 14.6018C81.0456 13.8937 81.2665 13.0254 81.3123 12.3697C81.358 11.7139 81.2605 10.8224 80.6865 10.0263C80.0613 9.15918 79.1053 8.72699 78.0859 8.65558L69.4268 8.049C68.7583 8.00218 67.8625 8.10918 67.1116 8.7631C66.3614 9.41639 66.1319 10.2882 66.0853 10.9554L65.4798 19.6299C65.4086 20.6502 65.7038 21.6565 66.4736 22.3961C67.181 23.0758 68.0494 23.2979 68.7062 23.344C69.3629 23.39 70.2539 23.2911 71.0493 22.7164C71.9148 22.0909 72.347 21.1351 72.4182 20.1149Z"
        fill="#FEFEFE"
        stroke="#7C44ED"
        stroke-width="4.17758"
        stroke-linecap="round"
        stroke-linejoin="round"
      />
      <path
        d="M31.3031 2.6938C27.8515 2.6938 25.1328 5.54204 25.1328 8.95651V59.0435C25.1328 62.4579 27.8515 65.3062 31.3031 65.3062H56.4724C59.924 65.3062 62.6427 62.4579 62.6427 59.0435V8.95651C62.6427 5.54204 59.924 2.6938 56.4724 2.6938H31.3031ZM32.0314 58.346V9.65399H55.7441V58.346H32.0314Z"
        fill="#FEFEFE"
        stroke="#7C44ED"
        stroke-width="4.17758"
      />
      <path
        d="M35.5547 7.56519H52.2209V8.25962C52.2209 9.02869 51.5974 9.65214 50.8283 9.65214H36.9472C36.1781 9.65214 35.5547 9.02869 35.5547 8.25962V7.56519Z"
        fill="#FEFEFE"
      />
      <path
        fill-rule="evenodd"
        clip-rule="evenodd"
        d="M38.2388 32.7086C37.1117 32.7086 36.198 33.6223 36.198 34.7494L36.198 43.1168C36.198 44.2439 37.1117 45.1576 38.2388 45.1576H50.1572C51.2843 45.1576 52.198 44.2439 52.198 43.1168V34.7494C52.198 33.6223 51.2843 32.7086 50.1572 32.7086H38.2388ZM45.083 39.3132C45.446 39.0175 45.6808 38.5468 45.6808 38.0167C45.6808 37.1217 45.0117 36.3962 44.1862 36.3962C43.3608 36.3962 42.6916 37.1217 42.6916 38.0167C42.6916 38.5468 42.9264 39.0175 43.2894 39.3132V41.2576C43.2894 41.7946 43.6909 42.2299 44.1862 42.2299C44.6815 42.2299 45.083 41.7946 45.083 41.2576V39.3132Z"
        fill="#FEFEFE"
      />
      <path
        fill-rule="evenodd"
        clip-rule="evenodd"
        d="M46.1721 29.6752L46.1721 32.6808C46.1721 32.6902 46.172 32.6997 46.1719 32.7091H48.621C48.621 32.6997 48.621 32.6902 48.621 32.6808V29.6752C48.621 27.1802 46.5984 25.1576 44.1034 25.1576C41.6084 25.1576 39.5858 27.1802 39.5858 29.6752L39.5858 32.6808C39.5858 32.6902 39.5858 32.6997 39.5858 32.7091L42.0349 32.7091C42.0348 32.6997 42.0347 32.6902 42.0347 32.6808L42.0347 29.6752C42.0347 28.5327 42.9609 27.6066 44.1034 27.6066C45.2459 27.6066 46.1721 28.5327 46.1721 29.6752Z"
        fill="#FEFEFE"
      />
    </svg>
    <p  class="mobileConnection-text">Verrouille la rotation de ton téléphone pour une expérience optimale !</p>

    <CustomButton
      class="mobileConnection-button small"
      @click.native="connect"
      :text="buttonText"
    />
  </section>
</template>

<script lang="ts">
import { Vue, Component, getModule } from "nuxt-property-decorator";
import stepStore from "~/store/stepStore";
import $socket from "~/plugins/socket.io";
import CustomButton from "~/components/buttons/button.vue";
import permisions from "~/core/utils/Permisions";

@Component({
  components: {
    CustomButton,
  },
})
export default class mobileConnection extends Vue {
  public buttonText: string = "Commencer l'aventure !";
  public stepStore = getModule(stepStore, this.$store);

  mounted() {
   
  }

  connect() {
    permisions.requestOrientation();
    $socket.io.emit("goTo", "/grenier");
    this.$router.push("/_mobile/off");
  }
}
</script>
